
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Escolher Tema com Preview</title>
    <link rel="stylesheet" href="../css/style5.css">
    
    <style>
       
    </style>
</head>
<body>
    <header>
        <div class="topbar-left">
        <div class="logo">
            <img src="../imagens/logo.png" alt="Logo Autocademy" width="50px" height="50px">
            <span>Autocademy</span>
        </div>
        
        <a href="../html/dashboard.html" class="active">
            <img src="../imagens/iconhome.png" alt="Ícone Início" height="40" width="40">
            <span>Início</span>
        </a>
        
        <a href="#"> <img src="../imagens/icons8-livros-96.png" alt="Ícone Materias" height="40" width="40">
            <span>Materias</span>
        </a>
        
        <a href="#"> <img src="../imagens/iconhistorico.png" alt="Ícone Histórico" height="40" width="40">
            <span>Historico</span>
        </a>

  <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

        <a href="config.html"> <img src="../imagens/icons8-configurações-150.png" alt="Ícone Configurações" height="40" width="40">
            <span>Configurações</span>
        </a>
    </div>
    </header>

    <div class="theme-selector-container">
        <h3>Tema de cores</h3>
        
        <div class="color-swatches">
            <span class="swatch active" data-color="#3b3b3b" style="background-color: #3b3b3b;" title="Sistema (Padrão)"></span>
            <span class="swatch" data-color="#f0f0f0" style="background-color: #f0f0f0;" title="Claro"></span>
            <span class="swatch" data-color="#55cffa" style="background-color: #55cffa;" title="Azul Céu"></span>
            <span class="swatch" data-color="#8AF2D1" style="background-color: #8AF2D1;" title="Verde Água"></span>
            <span class="swatch" data-color="#F4C0E0" style="background-color: #F4C0E0;" title="Rosa Claro"></span>
            <span class="swatch" data-color="#E3008C" style="background-color: #E3008C;" title="Magenta"></span>
            <span class="swatch" data-color="#FFB900" style="background-color: #FFB900;" title="Amarelo"></span>
            <span class="swatch" data-color="#0078D4" style="background-color: #0078D4;" title="Azul Edge"></span>
            <span class="swatch" data-color="#8E41B5" style="background-color: #8E41B5;" title="Roxo"></span>
            <span class="swatch" data-color="#D13438" style="background-color: #D13438;" title="Vermelho"></span>
            <span class="swatch" data-color="#107C10" style="background-color: #107C10;" title="Verde"></span>
        </div>
<div class="browser-preview">
            <div class="preview-header" id="previewHeader">
                <div class="preview-tab"></div>
            </div>
            <div class="preview-content">
                <img src="https://images.unsplash.com/photo-1451187580459-43490279c0a2?auto=format&fit=crop&w=800&q=80" alt="Pré-visualização do tema com imagem do espaço">
            </div>
        </div>
    </div>

 <script>
 document.addEventListener('DOMContentLoaded', () => {
    const swatches = document.querySelectorAll('.swatch');
    const previewHeader = document.getElementById('previewHeader');
    
    // Função para carregar o tema salvo na página de config
    function carregarTemaConfig() {
      // Pega o tema salvo ou usa o padrão
      const temaSalvo = localStorage.getItem('temaPainel') || '#3b3b3b';

      // 1. Atualiza o preview
      if (previewHeader) {
        previewHeader.style.backgroundColor = temaSalvo;
      }
      
      // 2. Marca o swatch (amostra) correto como 'active'
      swatches.forEach(s => {
        s.classList.remove('active');
        if (s.dataset.color === temaSalvo) {
          s.classList.add('active');
        }
      });
    }

    // Roda a função assim que a página carregar
    carregarTemaConfig();

    // Adiciona o evento de clique para cada amostra de cor
    swatches.forEach(swatch => {
      swatch.addEventListener('click', () => {
        const newColor = swatch.dataset.color;

        // 1. Atualiza o preview imediatamente
        previewHeader.style.backgroundColor = newColor;
        
        // 2. ATUALIZA A VARIÁVEL CSS GLOBAL (Isso muda o header real)
        document.documentElement.style.setProperty('--cor-tema-header', newColor);

        // 3. Salva a escolha no localStorage
        localStorage.setItem('temaPainel', newColor);

        // 4. Atualiza qual swatch está 'active'
        swatches.forEach(s => s.classList.remove('active'));
        swatch.classList.add('active');
      });
    });
  });
</script>
<script src="tema.js"></script>
</body>
</html>