<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat do Instrutor - Autocademy</title>
    <link rel="stylesheet" href="../css/chat.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"> 
</head>
<style>
    /* ==========================================================================
       VARIAVEIS GLOBAIS (Garantindo que o tema funcione)
       ========================================================================== */
    :root {
        --bg-body: #121214;
        --bg-sidebar: #202024;
        --bg-hover: #323238;
        --text-primary: #e1e1e6;
        --text-secondary: #a8a8b3;
        --accent-color: #E53935;
        --border-color: #323238;
        --sidebar-width: 80px;
        --sidebar-width-open: 260px;
        --transition-speed: 0.3s;
    }

    /* Reset básico */
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
    body { background-color: var(--bg-body); display: flex; height: 100vh; overflow: hidden; }

    /* ==========================================================================
       SIDEBAR (CORREÇÃO DA BARRA LATERAL)
       ========================================================================== */
    .sidebar {
        width: var(--sidebar-width);
        height: 100vh; /* Ocupa a altura total */
        background-color: var(--bg-sidebar);
        border-right: 1px solid var(--border-color);
        
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 20px 0;
        
        position: relative; /* Mantém ela no fluxo do flex */
        transition: width var(--transition-speed) ease;
        z-index: 100;
        flex-shrink: 0; /* Impede que ela encolha */
    }

    /* Efeito de expandir ao passar o mouse */
    .sidebar:hover {
        width: var(--sidebar-width-open);
        align-items: flex-start; /* Alinha itens à esquerda quando aberto */
    }

    /* Logo */
    .logo-area {
        height: 60px;
        display: flex;
        align-items: center;
        padding: 0 20px;
        width: 100%;
        overflow: hidden;
        margin-bottom: 20px;
        white-space: nowrap;
    }

    .logo-area img {
        width: 40px;
        min-width: 40px;
    }

    .logo-text {
        margin-left: 15px;
        font-size: 1.2rem;
        font-weight: 700;
        color: var(--text-primary);
        opacity: 0;
        transition: opacity 0.2s;
    }

    .sidebar:hover .logo-text { opacity: 1; }

    /* Links de Navegação */
    .nav-link {
        display: flex;
        align-items: center;
        width: 90%;
        height: 50px;
        margin: 5px auto;
        padding: 0 14px; /* Ajuste para centralizar ícone quando fechado */
        border-radius: 12px;
        color: var(--text-secondary);
        text-decoration: none;
        white-space: nowrap;
        overflow: hidden;
        transition: background 0.2s, color 0.2s;
    }

    /* Ícones dentro dos links */
    .nav-link img, .nav-link i {
        width: 24px !important;
        height: 24px !important;
        min-width: 24px !important;
        object-fit: contain;
        margin-right: 15px;
        font-size: 20px;
        text-align: center;
        filter: grayscale(100%) brightness(1.5); /* Deixa ícones cinza claro */
    }

    /* Texto do Link */
    .nav-text {
        opacity: 0;
        transition: opacity 0.2s;
        font-weight: 500;
    }
    .sidebar:hover .nav-text { opacity: 1; }

    /* Hover e Ativo */
    .nav-link:hover {
        background-color: var(--bg-hover);
        color: var(--text-primary);
    }
    
    .nav-link.active {
        background-color: var(--accent-color);
        color: white !important;
    }
    .nav-link.active img { filter: brightness(0) invert(1); /* Deixa ícone branco */ }
    
    /* Spacer para empurrar config para baixo */
    .spacer { flex: 1; }

    /* ==========================================================================
       LAYOUT PRINCIPAL (CORREÇÃO)
       ========================================================================== */
    .main-wrapper {
        flex: 1; /* Ocupa o resto da largura */
        display: flex;
        flex-direction: column;
        height: 100vh;
        overflow: hidden;
        position: relative;
    }
</style>

<body class="">
 <aside class="sidebar">
        <div class="logo-area">
            <img src="../imagens/logo.png" alt="Logo">
            <span class="logo-text">Autocademy</span>
        </div>

     <a href="dashboard_professor.php" class="nav-link active">
            <i class="fa-solid fa-chalkboard-user"></i>
            <span class="nav-text"> Painel</span>
        </a>

        <a href="../html/turmas.php" class="nav-link">
            <i class="fa-solid fa-users"></i> <!-- Ícone de Turmas -->
            <span class="nav-text"> Minhas Turmas</span>
        </a>

        <a href="../html/notas.php" class="nav-link">
              <i class="fa-solid fa-file-pen"></i>
            <span class="nav-text"> Lançar Notas</span>
        </a>

        <a href="./chatprof.html" class="nav-link">
            <i class="fa-regular fa-comments"></i>
            <span class="nav-text"> Mensagens</span>
        </a>
            <a href="../html/diario_classe.php" class="nav-link">
            <img src="../imagens/iconagenda.png" alt="Config">
            <span class="nav-text">Diário das Turmas</span>
        </a>
         

        <div class="spacer"></div>

       
        
        <a href="configpro.php" class="nav-link">
            <img src="../imagens/icons8-configurações-150.png" alt="Config">
            <span class="nav-text">Configurações</span>
        </a>
    </aside>

    <main class="main-wrapper">

        <header class="top-header">
            <h2 style="font-size: 1.2rem; color: var(--text-primary);">Central do Instrutor</h2>
            
            <div class="user-profile">
                <span>Prof. João Silva</span> <div class="avatar-circle" style="background-color: #007bff;"><i class="fa-solid fa-graduation-cap"></i></div>
            </div>
        </header>

        <div class="chat-layout instructor-layout"> 
            
            <div class="participants-sidebar">
                <div class="participants-header">
                    <h3>Conversas</h3>
                    <div class="filter-controls">
                        <select class="status-filter">
                            <option value="all">Todos os Chats</option>
                            <option value="pending">Em Aberto (4)</option>
                            <option value="urgent">Urgente (SLA)</option>
                            <option value="resolved">Resolvidos</option>
                        </select>
                    </div>
                    <input type="text" class="participants-search" placeholder="Buscar Aluno/Assunto...">
                </div>

                <div class="participants-list">
                    <div class="participant-item active-chat" style="border-left: 4px solid var(--primary-color);"> 
                        <div class="participant-avatar" style="background: #3498db;">
                            <span>AS</span>
                        </div>
                        <div class="participant-info">
                            <div class="participant-name">Aluno Senai - T2024A</div>
                            <div class="participant-role **urgency-tag**">**EM ESPERA: 3h 15min**</div> 
                        </div>
                        <span class="unread-count">2</span>
                    </div>

                    <div class="participant-item">
                        <div class="participant-avatar" style="background: #e74c3c;">
                            <span>MP</span>
                        </div>
                        <div class="participant-info">
                            <div class="participant-name">Maria Pereira - T2023B</div>
                            <div class="participant-role">Última msg: 1 dia atrás</div>
                        </div>
                    </div>
                    
                    </div>
            </div>

            <div class="chat-area">
                
                <div class="chat-area-header">
                    <div class="chat-target-info">
                        <h2>Aluno Senai</h2>
                        <span style="font-size: 0.85rem; color: var(--text-secondary);">Matrícula: 12345 | Turma: T2024A</span>
                    </div>
                    <button class="resolve-btn"><i class="fa-solid fa-check-circle"></i> Marcar como Resolvido</button>
                </div>

                <div class="messages-container" id="msgContainer">
                    <div class="message">
                        <div class="participant-avatar" style="width: 32px; height: 32px; font-size: 12px; background: #3498db;">AS</div>
                        <div>
                            <div class="message-bubble">
                                Bom dia, professor! Estou com dificuldade no **cálculo de momento de inércia** do Módulo 5.
                            </div>
                            <span class="message-time">10:30</span>
                        </div>
                    </div>

                    <div class="message own">
                        <div>
                            <div class="message-bubble">
                                Olá! Qual parte específica está confusa? Você verificou a seção 5.2 sobre a Tabela de Inércias?
                            </div>
                            <span class="message-time">10:32 (Lido)</span>
                        </div>
                        <div class="participant-avatar" style="width: 32px; height: 32px; font-size: 12px; background-color: #007bff;"><i class="fa-solid fa-graduation-cap"></i></div>
                    </div>
                    
                    </div>
                
                <div class="input-area">
                    <div class="input-wrapper">
                        <button class="quick-reply-btn" title="Respostas Prontas/Modelos">
                            <i class="fa-solid fa-comment-dots" style="font-size: 1.2rem;"></i>
                        </button>

                        <i class="fa-solid fa-paperclip" style="color: var(--text-secondary); font-size: 1.2rem; cursor: pointer;"></i>
                        <input type="text" class="message-input" placeholder="Digite sua resposta para Aluno Senai...">
                        <button class="send-btn">
                            <i class="fa-solid fa-paper-plane"></i>
                        </button>
                    </div>
                    <div class="internal-notes">
                        <input type="text" placeholder="Anotação Interna (Não visível para o aluno)">
                    </div>
                </div>

            </div>
            
            <div class="student-context-sidebar">
                <h3>Detalhes do Aluno</h3>
                <div class="student-info-block">
                    <h4><i class="fa-solid fa-user-graduate"></i> Dados Principais</h4>
                    <p><strong>Nome:</strong> Aluno Senai</p>
                    <p><strong>Matrícula:</strong> 12345</p>
                    <p><strong>Curso:</strong> Técnico em Mecânica Automotiva</p>
                </div>

                <div class="student-info-block">
                    <h4><i class="fa-solid fa-chart-line"></i> Progresso no Curso</h4>
                    <p><strong>Conclusão:</strong> 65%</p>
                    <p><strong>Módulo Atual:</strong> Módulo 6 - Transmissão</p>
                    <p><strong>Última Nota:</strong> 8.5 (Módulo 5)</p>
                    <p><strong>Alertas:</strong> <span style="color: #e74c3c;">Quiz M5 Reprovado (1x)</span></p>
                </div>

                <div class="student-info-block">
                    <h4><i class="fa-solid fa-clock-rotate-left"></i> Histórico de Chats</h4>
                    <p><strong>Total de Chats:</strong> 8</p>
                    <p><strong>Tópicos Recentes:</strong></p>
                    <ul>
                        <li><i class="fa-solid fa-circle-dot" style="font-size: 0.6rem; margin-right: 5px;"></i> Momento de Inércia (Atual)</li>
                        <li><i class="fa-solid fa-circle-dot" style="font-size: 0.6rem; margin-right: 5px;"></i> Montagem do Motor M4</li>
                        <li><i class="fa-solid fa-circle-dot" style="font-size: 0.6rem; margin-right: 5px;"></i> Prazo do TCC</li>
                    </ul>
                </div>
            </div>

        </div>

    </main>
    <script src="../html/tema.js"></script>
    </script>
    <script src="https://cdn.pubnub.com/sdk/javascript/pubnub.7.4.0.js"></script>
<script src="../javascript.js/api.js"></script>
</body>
</html>